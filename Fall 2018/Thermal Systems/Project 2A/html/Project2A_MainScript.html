
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Project2A_MainScript</title><meta name="generator" content="MATLAB 9.4"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2018-11-12"><meta name="DC.source" content="Project2A_MainScript.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><pre class="codeinput"><span class="comment">% Script to create all the graphs needed for report using</span>
<span class="comment">% functions within this folder</span>
clear <span class="string">all</span>;
close <span class="string">all</span>;


<span class="comment">%%%%%%%%%%</span>
<span class="comment">% Calculating Performance and Efficiency for Varying PR</span>
<span class="comment">%%%%%%%%%%</span>

T1   = 300;
P1   = 100;
MaxT1 = 1500;
PR   = linspace(1,50,50)';

EfficiencyPRNonCp  = zeros(50,1);
PerformancePRNonCp = zeros(50,1);
EfficiencyPRCp  = zeros(50,1);
PerformancePRCp = zeros(50,1);
<span class="keyword">for</span> i = 1:50
    [PerformancePRNonCp(i),EfficiencyPRNonCp(i)] = PerformanceEfficiencyNonCp(T1,P1,PR(i),MaxT1);
    [PerformancePRCp(i),EfficiencyPRCp(i)] = PerformanceEfficiencyCp(T1,P1,PR(i),MaxT1);
<span class="keyword">end</span>

<span class="comment">%%%%%%%%%%</span>
<span class="comment">% Calculating Performance and Efficiency for Varying MaxT</span>
<span class="comment">%%%%%%%%%%</span>

T1   = 300;
P1   = 100;
PR2   = 25;
MaxT = linspace(1000,2000,50)';

EfficiencyMaxTNonCp  = zeros(50,1);
PerformanceMaxTNonCp = zeros(50,1);
EfficiencyMaxTCp  = zeros(50,1);
PerformanceMaxTCp = zeros(50,1);
<span class="keyword">for</span> i = 1:50
    [PerformanceMaxTNonCp(i),EfficiencyMaxTNonCp(i)] = PerformanceEfficiencyNonCp(T1,P1,PR2,MaxT(i));
    [PerformanceMaxTCp(i),EfficiencyMaxTCp(i)] = PerformanceEfficiencyCp(T1,P1,PR2,MaxT(i));
<span class="keyword">end</span>

<span class="comment">%%%%%%%%%%</span>
<span class="comment">% Calculating P,v,T and s data points for various parameters constant cp</span>
<span class="comment">%%%%%%%%%%</span>

<span class="comment">% Data for the baseline - average PR and MaxT</span>
PR3   = 25;
MaxT2 = 1500;
[PressuresBase,SpecificVolumesBase,TemperaturesBase,SpecificEntropysBase] = CycleDataPvTsCp(PR3,MaxT2);

<span class="comment">% Data for increased MaxT - average PR</span>
PR4   = 25;
MaxT3 = 2000;
[PressuresMaxT,SpecificVolumesMaxT,TemperaturesMaxT,SpecificEntropysMaxT] = CycleDataPvTsCp(PR4,MaxT3);

<span class="comment">% Data for increased PR - average MaxT</span>
PR5   = 40;
MaxT4 = 1500;
[PressuresPR,SpecificVolumesPR,TemperaturesPR,SpecificEntropysPR] = CycleDataPvTsCp(PR5,MaxT4);


<span class="comment">%%%%%%%%%%</span>
<span class="comment">% Calculating P,v,T and s data points for various parameters non constant cp</span>
<span class="comment">%%%%%%%%%%</span>

<span class="comment">% Data for the baseline - average PR and MaxT</span>
PR3   = 25;
MaxT2 = 1500;
[PressuresBase2,SpecificVolumesBase2,TemperaturesBase2,SpecificEntropysBase2] = CycleDataPvTsNonCp(PR3,MaxT2);

<span class="comment">% Data for increased MaxT - average PR</span>
PR4   = 25;
MaxT3 = 2000;
[PressuresMaxT2,SpecificVolumesMaxT2,TemperaturesMaxT2,SpecificEntropysMaxT2] = CycleDataPvTsNonCp(PR4,MaxT3);

<span class="comment">% Data for increased PR - average MaxT</span>
PR5   = 40;
MaxT4 = 1500;
[PressuresPR2,SpecificVolumesPR2,TemperaturesPR2,SpecificEntropysPR2] = CycleDataPvTsNonCp(PR5,MaxT4);


<span class="comment">% Bonus Problem, calculating efficiency and performance as a function of PR and MaxT</span>

Res = 10;

PR2   = linspace(1,50,Res)';
MaxT3 = linspace(1000,2000,Res)';
T1 = 300;
P1 = 100;
[PRx,MaxTy] = meshgrid(PR2,MaxT3);
Performance = zeros(Res,Res);
Thermal_Efficiency = zeros(Res,Res);

<span class="keyword">for</span> i = 1:Res
    <span class="keyword">for</span> j = 1:Res
        [Performance(i,j),Thermal_Efficiency(i,j)] = PerformanceEfficiencyNonCp(T1,P1,PR2(i),MaxT3(j));
    <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="comment">%%%%%%%%%%</span>
<span class="comment">% Plotting Data for Efficiency and Performance</span>
<span class="comment">%%%%%%%%%%</span>

<span class="comment">% Plot of Efficiency vs. Pressure Ratio</span>
figure(1)
plot(PR,EfficiencyPRNonCp,<span class="string">'r'</span>)
hold <span class="string">on</span>
plot(PR,EfficiencyPRCp,<span class="string">'b'</span>)
ylabel(<span class="string">'Efficiency ([])'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlabel(<span class="string">'Pressure Ratio ([])'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
lgd = legend(<span class="string">'\color{red} Non-Constant Cp'</span>,<span class="string">'\color{blue} Constant Cp'</span>,<span class="string">'Location'</span>,<span class="string">'northwest'</span>);
lgd.FontSize = 12;
hold <span class="string">off</span>


<span class="comment">% Plot of Performance vs. Pressure Ratio</span>
figure(2)
plot(PR,PerformancePRNonCp,<span class="string">'r'</span>)
hold <span class="string">on</span>
plot(PR,PerformancePRCp,<span class="string">'b'</span>)
ylabel(<span class="string">'Performance [m^2/s^2]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlabel(<span class="string">'Pressure Ratio [ ]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlim([0,50])
ylim([0,700])
lgd = legend(<span class="string">'\color{red} Non-Constant Cp'</span>,<span class="string">'\color{blue} Constant Cp'</span>,<span class="string">'Location'</span>,<span class="string">'northwest'</span>);
lgd.FontSize = 12;
hold <span class="string">off</span>

<span class="comment">% Plot of Efficiency vs. Maximum Temperature</span>
figure(3)
plot(MaxT,EfficiencyMaxTNonCp,<span class="string">'r'</span>)
hold <span class="string">on</span>
plot(MaxT,EfficiencyMaxTCp,<span class="string">'b'</span>)
ylabel(<span class="string">'Efficiency [ ]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlabel(<span class="string">'Maximum Temperature [K]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlim([1000,2000])
ylim([.55,.62])
lgd = legend(<span class="string">'\color{red} Non-Constant Cp'</span>,<span class="string">'\color{blue} Constant Cp'</span>,<span class="string">'Location'</span>,<span class="string">'northwest'</span>);
lgd.FontSize = 12;
hold <span class="string">off</span>

<span class="comment">% Plot of Performance vs. Maximum Temperature</span>
figure(4)
plot(MaxT,PerformanceMaxTNonCp,<span class="string">'r'</span>)
hold <span class="string">on</span>
plot(MaxT,PerformanceMaxTCp,<span class="string">'b'</span>)
ylabel(<span class="string">'Performance [m^2/s^2]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlabel(<span class="string">'Maximum Temperature [K]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
lgd = legend(<span class="string">'\color{red} Non-Constant Cp'</span>,<span class="string">'\color{blue} Constant Cp'</span>,<span class="string">'Location'</span>,<span class="string">'northwest'</span>);
lgd.FontSize = 12;
hold <span class="string">off</span>


<span class="comment">%%%%%%%%%%</span>
<span class="comment">% Bonus 3D Plots</span>
<span class="comment">%%%%%%%%%%</span>

figure(5)
mesh(PRx,MaxTy,Thermal_Efficiency)
xlabel(<span class="string">'Pressure Ratio [ ]'</span>,<span class="string">'Rotation'</span>,15,<span class="string">'FontSize'</span>,15)
set(gca,<span class="string">'fontsize'</span>,14)
ylabel(<span class="string">'Maximum Temperature [K]'</span>, <span class="string">'Rotation'</span>,-25,<span class="string">'FontSize'</span>,15)
set(gca,<span class="string">'fontsize'</span>,14)
zlabel(<span class="string">'Efficiency [ ]'</span>, <span class="string">'Interpreter'</span>, <span class="string">'none'</span>,<span class="string">'FontSize'</span>,15)
set(gca,<span class="string">'fontsize'</span>,14)
hold <span class="string">off</span>

figure(6)
mesh(PRx,MaxTy,Performance)
xlabel(<span class="string">'Pressure Ratio [ ]'</span>,<span class="string">'Rotation'</span>,15,<span class="string">'FontSize'</span>,15)
set(gca,<span class="string">'fontsize'</span>,14)
ylabel(<span class="string">'Maximum Temperature [K]'</span>, <span class="string">'Rotation'</span>,-25,<span class="string">'FontSize'</span>,15)
set(gca,<span class="string">'fontsize'</span>,14)
zlabel(<span class="string">'Performance [m^2/s^2]'</span>,<span class="string">'FontSize'</span>,15)
set(gca,<span class="string">'fontsize'</span>,14)
hold <span class="string">off</span>


<span class="comment">%%%%%%%%%%</span>
<span class="comment">% Cycle Graphs Constant Cp</span>
<span class="comment">%%%%%%%%%%</span>

<span class="comment">% Plot of Pressure vs. Specific Volume</span>
figure(7)
semilogx(SpecificVolumesMaxT,PressuresMaxT,<span class="string">'r'</span>,SpecificVolumesPR,PressuresPR,<span class="string">'b'</span>,SpecificVolumesBase,PressuresBase,<span class="string">'k'</span>)

text(SpecificVolumesBase(1)-.35   ,PressuresBase(1)-90   , <span class="string">'Compressor Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificVolumesBase(1001)-.049,PressuresBase(1001), <span class="string">'Combustor Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificVolumesBase(2001)+.07,PressuresBase(2001), <span class="string">'Turbine Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificVolumesBase(3001)+.25,PressuresBase(3001), <span class="string">'Nozzle Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificVolumesBase(4001)-.27,PressuresBase(4001)-90, <span class="string">'Nozzle Outlet'</span>,<span class="string">'FontSize'</span>,8)
annotation(<span class="string">'textarrow'</span>,[.34,.25],[.3,.5],<span class="string">'String'</span>,<span class="string">'Cycle Direction'</span>,<span class="string">'FontSize'</span>,8)

ylabel(<span class="string">'Pressure [KPa]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlabel(<span class="string">'Specific Volume [m^3/kg]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlim([.035,3])
ylim([-250,4500])
lgd = legend(<span class="string">'\color{red} Increased Max Temperature'</span>,<span class="string">'\color{blue} Increased Pressure Ratio'</span>,<span class="string">'\color{black} Baseline'</span>);
lgd.FontSize = 12;
hold <span class="string">off</span>

<span class="comment">% Plot of Temperature vs. Specific Entropy</span>
figure(8)
plot(SpecificEntropysMaxT,TemperaturesMaxT,<span class="string">'r'</span>,SpecificEntropysPR,TemperaturesPR,<span class="string">'b'</span>,SpecificEntropysBase,TemperaturesBase,<span class="string">'k'</span>)

text(SpecificEntropysBase(1)+.01   ,TemperaturesBase(1)-15   , <span class="string">'\leftarrow Compressor Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificEntropysBase(1001)+.01,TemperaturesBase(1001)-10, <span class="string">'\leftarrow Combustor Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificEntropysBase(2001)+.01,TemperaturesBase(2001), <span class="string">'\leftarrow Turbine Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificEntropysBase(3001)+.01,TemperaturesBase(3001), <span class="string">'\leftarrow Nozzle Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificEntropysBase(4001)+.01,TemperaturesBase(4001)-15, <span class="string">'\leftarrow Nozzle Outlet'</span>,<span class="string">'FontSize'</span>,8)
annotation(<span class="string">'textarrow'</span>,[.24,.24],[.25,.4],<span class="string">'String'</span>,<span class="string">'Cycle Direction'</span>,<span class="string">'FontSize'</span>,8)

ylabel(<span class="string">'Temperature [K]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlabel(<span class="string">'Specific Entropy [KJ/KG]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlim([1.5,3])
ylim([0,2500])
lgd = legend(<span class="string">'\color{red} Increased Max Temperature'</span>,<span class="string">'\color{blue} Increased Pressure Ratio'</span>,<span class="string">'\color{black} Baseline'</span>,<span class="string">'Location'</span>,<span class="string">'northwest'</span>);
lgd.FontSize = 12;
hold <span class="string">off</span>


<span class="comment">%%%%%%%%%%</span>
<span class="comment">% Cycle Graphs Non-Constant Cp and constant for baseline</span>
<span class="comment">%%%%%%%%%%</span>

<span class="comment">% Plot of Pressure vs. Specific Volume</span>
figure(9)
semilogx(SpecificVolumesBase,PressuresBase,<span class="string">'r'</span>,SpecificVolumesBase2,PressuresBase2,<span class="string">'k'</span>)

text(SpecificVolumesBase2(1)-.4   ,PressuresBase2(1)-60   , <span class="string">'Compressor Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificVolumesBase2(1001)-.032,PressuresBase2(1001)+90, <span class="string">'Combustor Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificVolumesBase2(2001),PressuresBase2(2001), <span class="string">'\leftarrow Turbine Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificVolumesBase2(3001)+.05,PressuresBase2(3001), <span class="string">'\leftarrow Nozzle Inlet'</span>,<span class="string">'FontSize'</span>,8)
text(SpecificVolumesBase2(4001)+1.35,PressuresBase2(4001), <span class="string">'\leftarrow Nozzle Outlet'</span>,<span class="string">'FontSize'</span>,8)
annotation(<span class="string">'textarrow'</span>,[.30,.25],[.3,.5],<span class="string">'String'</span>,<span class="string">'Cycle Direction'</span>,<span class="string">'FontSize'</span>,8)

ylabel(<span class="string">'Pressure [KPa]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlabel(<span class="string">'Specific Volume [m^3/kg]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlim([.05,10])
ylim([-250,3500])
lgd = legend(<span class="string">'\color{red} Baseline Constant Cp'</span>,<span class="string">'\color{black} Baseline Non-Constant Cp'</span>);
lgd.FontSize = 12;
hold <span class="string">off</span>

<span class="comment">% Plot of Temperature vs. Specific Entropy</span>
figure(10)
plot(SpecificEntropysBase,TemperaturesBase,<span class="string">'r'</span>,SpecificEntropysBase2,TemperaturesBase2,<span class="string">'k'</span>)

text(SpecificEntropysBase2(1)+.01   ,TemperaturesBase2(1)-15   , <span class="string">'\leftarrow Compressor Inlet'</span>,<span class="string">'FontSize'</span>,9)
text(SpecificEntropysBase2(1001)+.01,TemperaturesBase2(1001)-15, <span class="string">'\leftarrow Combustor Inlet'</span>,<span class="string">'FontSize'</span>,9)
text(SpecificEntropysBase2(2001)+.01,TemperaturesBase2(2001)-15, <span class="string">'\leftarrow Turbine Inlet'</span>,<span class="string">'FontSize'</span>,9)
text(SpecificEntropysBase2(3001)+.01,TemperaturesBase2(3001)   , <span class="string">'\leftarrow Nozzle Inlet'</span>,<span class="string">'FontSize'</span>,9)
text(SpecificEntropysBase2(4001)+.01,TemperaturesBase2(4001)-15, <span class="string">'\leftarrow Nozzle Outlet'</span>,<span class="string">'FontSize'</span>,9)
annotation(<span class="string">'textarrow'</span>,[.24,.24],[.25,.4],<span class="string">'String'</span>,<span class="string">'Cycle Direction'</span>,<span class="string">'FontSize'</span>,8)

ylabel(<span class="string">'Temperature [K]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlabel(<span class="string">'Specific Entropy [KJ/kg]'</span>,<span class="string">'FontSize'</span>,20)
set(gca,<span class="string">'fontsize'</span>,18)
xlim([1.5,3])
ylim([0,2250])
lgd = legend(<span class="string">'\color{red} Baseline Constant Cp'</span>,<span class="string">'\color{black} Baseline Non-Constant Cp'</span>,<span class="string">'Location'</span>,<span class="string">'northwest'</span>);
lgd.FontSize = 12;
hold <span class="string">off</span>


<span class="comment">% Saving All Figures into Directory</span>

saveas(figure(1) ,<span class="string">'Efficiency_PR.png'</span>)
saveas(figure(2) ,<span class="string">'Performance_PR.png'</span>)
saveas(figure(3) ,<span class="string">'Efficiency_MaxT.png'</span>)
saveas(figure(4) ,<span class="string">'Performance_MaxT.png'</span>)
saveas(figure(5) ,<span class="string">'Efficiency_PR_MaxT.png'</span>)
saveas(figure(6) ,<span class="string">'Performance_PR_MaxT.png'</span>)
saveas(figure(7) ,<span class="string">'P_v_Constant_Cp.png'</span>)
saveas(figure(8) ,<span class="string">'T_s_Constant_Cp.png'</span>)
saveas(figure(9) ,<span class="string">'P_v_Cp_NonCp.png'</span>)
saveas(figure(10),<span class="string">'T_s_Cp_NonCp.png'</span>)
</pre><img vspace="5" hspace="5" src="Project2A_MainScript_01.png" alt=""> <img vspace="5" hspace="5" src="Project2A_MainScript_02.png" alt=""> <img vspace="5" hspace="5" src="Project2A_MainScript_03.png" alt=""> <img vspace="5" hspace="5" src="Project2A_MainScript_04.png" alt=""> <img vspace="5" hspace="5" src="Project2A_MainScript_05.png" alt=""> <img vspace="5" hspace="5" src="Project2A_MainScript_06.png" alt=""> <img vspace="5" hspace="5" src="Project2A_MainScript_07.png" alt=""> <img vspace="5" hspace="5" src="Project2A_MainScript_08.png" alt=""> <img vspace="5" hspace="5" src="Project2A_MainScript_09.png" alt=""> <img vspace="5" hspace="5" src="Project2A_MainScript_10.png" alt=""> <p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2018a</a><br></p></div><!--
##### SOURCE BEGIN #####
% Script to create all the graphs needed for report using
% functions within this folder
clear all;
close all;


%%%%%%%%%%
% Calculating Performance and Efficiency for Varying PR
%%%%%%%%%%

T1   = 300;
P1   = 100;
MaxT1 = 1500;
PR   = linspace(1,50,50)';

EfficiencyPRNonCp  = zeros(50,1);
PerformancePRNonCp = zeros(50,1);
EfficiencyPRCp  = zeros(50,1);
PerformancePRCp = zeros(50,1);
for i = 1:50
    [PerformancePRNonCp(i),EfficiencyPRNonCp(i)] = PerformanceEfficiencyNonCp(T1,P1,PR(i),MaxT1);
    [PerformancePRCp(i),EfficiencyPRCp(i)] = PerformanceEfficiencyCp(T1,P1,PR(i),MaxT1);
end

%%%%%%%%%%
% Calculating Performance and Efficiency for Varying MaxT
%%%%%%%%%%

T1   = 300;
P1   = 100;
PR2   = 25;
MaxT = linspace(1000,2000,50)';

EfficiencyMaxTNonCp  = zeros(50,1);
PerformanceMaxTNonCp = zeros(50,1);
EfficiencyMaxTCp  = zeros(50,1);
PerformanceMaxTCp = zeros(50,1);
for i = 1:50
    [PerformanceMaxTNonCp(i),EfficiencyMaxTNonCp(i)] = PerformanceEfficiencyNonCp(T1,P1,PR2,MaxT(i));
    [PerformanceMaxTCp(i),EfficiencyMaxTCp(i)] = PerformanceEfficiencyCp(T1,P1,PR2,MaxT(i));
end

%%%%%%%%%%
% Calculating P,v,T and s data points for various parameters constant cp
%%%%%%%%%%

% Data for the baseline - average PR and MaxT
PR3   = 25;
MaxT2 = 1500;
[PressuresBase,SpecificVolumesBase,TemperaturesBase,SpecificEntropysBase] = CycleDataPvTsCp(PR3,MaxT2);

% Data for increased MaxT - average PR
PR4   = 25;
MaxT3 = 2000;
[PressuresMaxT,SpecificVolumesMaxT,TemperaturesMaxT,SpecificEntropysMaxT] = CycleDataPvTsCp(PR4,MaxT3);

% Data for increased PR - average MaxT
PR5   = 40;
MaxT4 = 1500;
[PressuresPR,SpecificVolumesPR,TemperaturesPR,SpecificEntropysPR] = CycleDataPvTsCp(PR5,MaxT4);


%%%%%%%%%%
% Calculating P,v,T and s data points for various parameters non constant cp
%%%%%%%%%%

% Data for the baseline - average PR and MaxT
PR3   = 25;
MaxT2 = 1500;
[PressuresBase2,SpecificVolumesBase2,TemperaturesBase2,SpecificEntropysBase2] = CycleDataPvTsNonCp(PR3,MaxT2);

% Data for increased MaxT - average PR
PR4   = 25;
MaxT3 = 2000;
[PressuresMaxT2,SpecificVolumesMaxT2,TemperaturesMaxT2,SpecificEntropysMaxT2] = CycleDataPvTsNonCp(PR4,MaxT3);

% Data for increased PR - average MaxT
PR5   = 40;
MaxT4 = 1500;
[PressuresPR2,SpecificVolumesPR2,TemperaturesPR2,SpecificEntropysPR2] = CycleDataPvTsNonCp(PR5,MaxT4);


% Bonus Problem, calculating efficiency and performance as a function of PR and MaxT

Res = 10;

PR2   = linspace(1,50,Res)';
MaxT3 = linspace(1000,2000,Res)';
T1 = 300;
P1 = 100;
[PRx,MaxTy] = meshgrid(PR2,MaxT3);
Performance = zeros(Res,Res);
Thermal_Efficiency = zeros(Res,Res);

for i = 1:Res
    for j = 1:Res
        [Performance(i,j),Thermal_Efficiency(i,j)] = PerformanceEfficiencyNonCp(T1,P1,PR2(i),MaxT3(j));
    end
end

%%%%%%%%%%
% Plotting Data for Efficiency and Performance
%%%%%%%%%%

% Plot of Efficiency vs. Pressure Ratio
figure(1)
plot(PR,EfficiencyPRNonCp,'r')
hold on
plot(PR,EfficiencyPRCp,'b')
ylabel('Efficiency ([])','FontSize',20)
set(gca,'fontsize',18)
xlabel('Pressure Ratio ([])','FontSize',20)
set(gca,'fontsize',18)
lgd = legend('\color{red} Non-Constant Cp','\color{blue} Constant Cp','Location','northwest');
lgd.FontSize = 12;
hold off


% Plot of Performance vs. Pressure Ratio
figure(2)
plot(PR,PerformancePRNonCp,'r')
hold on
plot(PR,PerformancePRCp,'b')
ylabel('Performance [m^2/s^2]','FontSize',20)
set(gca,'fontsize',18)
xlabel('Pressure Ratio [ ]','FontSize',20)
set(gca,'fontsize',18)
xlim([0,50])
ylim([0,700])
lgd = legend('\color{red} Non-Constant Cp','\color{blue} Constant Cp','Location','northwest');
lgd.FontSize = 12;
hold off

% Plot of Efficiency vs. Maximum Temperature
figure(3)
plot(MaxT,EfficiencyMaxTNonCp,'r')
hold on
plot(MaxT,EfficiencyMaxTCp,'b')
ylabel('Efficiency [ ]','FontSize',20)
set(gca,'fontsize',18)
xlabel('Maximum Temperature [K]','FontSize',20)
set(gca,'fontsize',18)
xlim([1000,2000])
ylim([.55,.62])
lgd = legend('\color{red} Non-Constant Cp','\color{blue} Constant Cp','Location','northwest');
lgd.FontSize = 12;
hold off

% Plot of Performance vs. Maximum Temperature
figure(4)
plot(MaxT,PerformanceMaxTNonCp,'r')
hold on
plot(MaxT,PerformanceMaxTCp,'b')
ylabel('Performance [m^2/s^2]','FontSize',20)
set(gca,'fontsize',18)
xlabel('Maximum Temperature [K]','FontSize',20)
set(gca,'fontsize',18)
lgd = legend('\color{red} Non-Constant Cp','\color{blue} Constant Cp','Location','northwest');
lgd.FontSize = 12;
hold off


%%%%%%%%%%
% Bonus 3D Plots
%%%%%%%%%%

figure(5)
mesh(PRx,MaxTy,Thermal_Efficiency)
xlabel('Pressure Ratio [ ]','Rotation',15,'FontSize',15)
set(gca,'fontsize',14)
ylabel('Maximum Temperature [K]', 'Rotation',-25,'FontSize',15)
set(gca,'fontsize',14)
zlabel('Efficiency [ ]', 'Interpreter', 'none','FontSize',15)
set(gca,'fontsize',14)
hold off

figure(6)
mesh(PRx,MaxTy,Performance)
xlabel('Pressure Ratio [ ]','Rotation',15,'FontSize',15)
set(gca,'fontsize',14)
ylabel('Maximum Temperature [K]', 'Rotation',-25,'FontSize',15)
set(gca,'fontsize',14)
zlabel('Performance [m^2/s^2]','FontSize',15)
set(gca,'fontsize',14)
hold off


%%%%%%%%%%
% Cycle Graphs Constant Cp
%%%%%%%%%%

% Plot of Pressure vs. Specific Volume
figure(7)
semilogx(SpecificVolumesMaxT,PressuresMaxT,'r',SpecificVolumesPR,PressuresPR,'b',SpecificVolumesBase,PressuresBase,'k')

text(SpecificVolumesBase(1)-.35   ,PressuresBase(1)-90   , 'Compressor Inlet','FontSize',8)
text(SpecificVolumesBase(1001)-.049,PressuresBase(1001), 'Combustor Inlet','FontSize',8)
text(SpecificVolumesBase(2001)+.07,PressuresBase(2001), 'Turbine Inlet','FontSize',8)
text(SpecificVolumesBase(3001)+.25,PressuresBase(3001), 'Nozzle Inlet','FontSize',8)
text(SpecificVolumesBase(4001)-.27,PressuresBase(4001)-90, 'Nozzle Outlet','FontSize',8)
annotation('textarrow',[.34,.25],[.3,.5],'String','Cycle Direction','FontSize',8)

ylabel('Pressure [KPa]','FontSize',20)
set(gca,'fontsize',18)
xlabel('Specific Volume [m^3/kg]','FontSize',20)
set(gca,'fontsize',18)
xlim([.035,3])
ylim([-250,4500])
lgd = legend('\color{red} Increased Max Temperature','\color{blue} Increased Pressure Ratio','\color{black} Baseline');
lgd.FontSize = 12;
hold off

% Plot of Temperature vs. Specific Entropy
figure(8)
plot(SpecificEntropysMaxT,TemperaturesMaxT,'r',SpecificEntropysPR,TemperaturesPR,'b',SpecificEntropysBase,TemperaturesBase,'k')

text(SpecificEntropysBase(1)+.01   ,TemperaturesBase(1)-15   , '\leftarrow Compressor Inlet','FontSize',8)
text(SpecificEntropysBase(1001)+.01,TemperaturesBase(1001)-10, '\leftarrow Combustor Inlet','FontSize',8)
text(SpecificEntropysBase(2001)+.01,TemperaturesBase(2001), '\leftarrow Turbine Inlet','FontSize',8)
text(SpecificEntropysBase(3001)+.01,TemperaturesBase(3001), '\leftarrow Nozzle Inlet','FontSize',8)
text(SpecificEntropysBase(4001)+.01,TemperaturesBase(4001)-15, '\leftarrow Nozzle Outlet','FontSize',8)
annotation('textarrow',[.24,.24],[.25,.4],'String','Cycle Direction','FontSize',8)

ylabel('Temperature [K]','FontSize',20)
set(gca,'fontsize',18)
xlabel('Specific Entropy [KJ/KG]','FontSize',20)
set(gca,'fontsize',18)
xlim([1.5,3])
ylim([0,2500])
lgd = legend('\color{red} Increased Max Temperature','\color{blue} Increased Pressure Ratio','\color{black} Baseline','Location','northwest');
lgd.FontSize = 12;
hold off


%%%%%%%%%%
% Cycle Graphs Non-Constant Cp and constant for baseline
%%%%%%%%%%

% Plot of Pressure vs. Specific Volume
figure(9)
semilogx(SpecificVolumesBase,PressuresBase,'r',SpecificVolumesBase2,PressuresBase2,'k')

text(SpecificVolumesBase2(1)-.4   ,PressuresBase2(1)-60   , 'Compressor Inlet','FontSize',8)
text(SpecificVolumesBase2(1001)-.032,PressuresBase2(1001)+90, 'Combustor Inlet','FontSize',8)
text(SpecificVolumesBase2(2001),PressuresBase2(2001), '\leftarrow Turbine Inlet','FontSize',8)
text(SpecificVolumesBase2(3001)+.05,PressuresBase2(3001), '\leftarrow Nozzle Inlet','FontSize',8)
text(SpecificVolumesBase2(4001)+1.35,PressuresBase2(4001), '\leftarrow Nozzle Outlet','FontSize',8)
annotation('textarrow',[.30,.25],[.3,.5],'String','Cycle Direction','FontSize',8)

ylabel('Pressure [KPa]','FontSize',20)
set(gca,'fontsize',18)
xlabel('Specific Volume [m^3/kg]','FontSize',20)
set(gca,'fontsize',18)
xlim([.05,10])
ylim([-250,3500])
lgd = legend('\color{red} Baseline Constant Cp','\color{black} Baseline Non-Constant Cp');
lgd.FontSize = 12;
hold off

% Plot of Temperature vs. Specific Entropy
figure(10)
plot(SpecificEntropysBase,TemperaturesBase,'r',SpecificEntropysBase2,TemperaturesBase2,'k')

text(SpecificEntropysBase2(1)+.01   ,TemperaturesBase2(1)-15   , '\leftarrow Compressor Inlet','FontSize',9)
text(SpecificEntropysBase2(1001)+.01,TemperaturesBase2(1001)-15, '\leftarrow Combustor Inlet','FontSize',9)
text(SpecificEntropysBase2(2001)+.01,TemperaturesBase2(2001)-15, '\leftarrow Turbine Inlet','FontSize',9)
text(SpecificEntropysBase2(3001)+.01,TemperaturesBase2(3001)   , '\leftarrow Nozzle Inlet','FontSize',9)
text(SpecificEntropysBase2(4001)+.01,TemperaturesBase2(4001)-15, '\leftarrow Nozzle Outlet','FontSize',9)
annotation('textarrow',[.24,.24],[.25,.4],'String','Cycle Direction','FontSize',8)

ylabel('Temperature [K]','FontSize',20)
set(gca,'fontsize',18)
xlabel('Specific Entropy [KJ/kg]','FontSize',20)
set(gca,'fontsize',18)
xlim([1.5,3])
ylim([0,2250])
lgd = legend('\color{red} Baseline Constant Cp','\color{black} Baseline Non-Constant Cp','Location','northwest');
lgd.FontSize = 12;
hold off


% Saving All Figures into Directory

saveas(figure(1) ,'Efficiency_PR.png')
saveas(figure(2) ,'Performance_PR.png')
saveas(figure(3) ,'Efficiency_MaxT.png')
saveas(figure(4) ,'Performance_MaxT.png')
saveas(figure(5) ,'Efficiency_PR_MaxT.png')
saveas(figure(6) ,'Performance_PR_MaxT.png')
saveas(figure(7) ,'P_v_Constant_Cp.png')
saveas(figure(8) ,'T_s_Constant_Cp.png')
saveas(figure(9) ,'P_v_Cp_NonCp.png')
saveas(figure(10),'T_s_Cp_NonCp.png')












##### SOURCE END #####
--></body></html>